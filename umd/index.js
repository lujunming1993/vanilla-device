!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).vanillaDevice=t()}(this,function(){"use strict";function o(){return window.innerWidth}function i(){return window.innerHeight}function e(){return/(?:Android)/.test(d)}function t(){return/(?:Firefox)/.test(d)}function n(){return/(?:iPad|PlayBook)/.test(d)||e()&&!/(?:Mobile)/.test(d)||t()&&/(?:Tablet)/.test(d)}function r(){return/(?:iPhone)/.test(d)&&!n()}function s(){return/MicroMessenger/.test(d)}function u(){return!r()&&!e()}function c(){return/iphone/gi.test(window.navigator.userAgent)&&812<=i()}function a(){return 1<f?.5:1}function l(){return 1<f?.65:1}var d=navigator.userAgent,f=window.devicePixelRatio||1;function m(){var e=d.toLowerCase().match(/android\s([0-9\.]*)/),t=e?e[1]:"0";return parseFloat(t)}function w(){if(!r())return 999;var e=(d.toLowerCase().match(/os [\d._]+/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,".");return parseFloat(e)}function _(){return 0<=window.location.href.indexOf("_os_ios_")||window._os_ios}function p(){return 0<=window.location.href.indexOf("_os_android_")||window._os_android}function v(){return _()||p()||window.cordova||!1}function h(){return v()?c()?43:20:0}function b(){return s()&&r()?720<=i()?25:0:c()?25:0}var g="__device-style-ele__";function y(){var e="\n    :root {\n      --safe-top:"+h()+"px; --safe-bottom:"+b()+"px; --hair:"+a()+"px;--line:"+l()+"px; --iw:"+o()+"px; --ih:"+i()+"px;\n    }\n  ",t=document.getElementById(g);if(t)t.textContent=e;else{var n=document.createElement("style");n.textContent=e,n.id=g,document.head.append(n)}}window.addEventListener("resize",function(){setTimeout(y,30)}),y();var x=function(t){if(!window.__setCanScroll){window.__setCanScroll=!0,document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1});var e=document.createElement("style");e.textContent="\n  div {\n    -webkit-overflow-scrolling: touch;\n  }\n",document.body.appendChild(e)}t&&(t.__mobile_scroll||(t.__mobile_scroll=!0,t.addEventListener("touchstart",function(){if(t.__can_scroll=t.scrollHeight>t.clientHeight,t.__can_scroll){var e=t.scrollTop;0===e?t.scrollTop=1:e+t.offsetHeight===t.scrollHeight&&(t.scrollTop=t.scrollHeight-t.offsetHeight-1)}}),t.addEventListener("touchmove",function(e){t.__can_scroll?e.stopPropagation():e.preventDefault()})))};return Object.freeze({__proto__:null,iw:o,ih:i,isSmall:function(){return 1<f?o()<=320:o()<=640},isMiddle:function(){return 1<f?o()<=375:o()<=750},isLarge:function(){return 1<f?o()<=512:o()<=1024},isExtraLarge:function(){return 1<f?o()<=640:o()<=1280},isAndroid:e,isFireFox:t,isChrome:function(){return/(?:Chrome|CriOS)/.test(d)},isPad:n,isIos:r,isWechat:s,isPc:u,isLow:function(){return!u()&&(m()<=8||w()<=12)},isIPhoneX:c,hair:a,line:l,getAndroidVersion:m,getIOSVersion:w,isNativeIOS:_,isNativeAndroid:p,isNative:v,safeTop:h,safeBottom:b,setMobileCss:function(){if(!window.__setMobileCss){window.__setCanNotScale=!0;var e=document.createElement("style");e.textContent="\n    body::-webkit-scrollbar {\n      display:none;\n    }\n    * {\n      -webkit-tap-highlight-color: rgba(0,0,0,0);\n      -moz-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none; \n      touch-action: manipulation;\n    }\n    .can-user-select, input, textarea {\n      -moz-user-select:auto; -webkit-user-select:auto;-ms-user-select:auto; user-select:auto;\n    }\n  ";var t=document.createElement("meta");t.setAttribute("name","viewport"),t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui, viewport-fit=cover"),document.head.append(e,t),document.addEventListener("gesturestart",function(e){e.preventDefault()})}},setKeyboardAutoHide:function(){if(!u()&&!window.__setKeyboardAutoHide){window.__setKeyboardAutoHide=!0;var t,n=0,o=0,i=null,r=function(e){t&&t.blur&&t.blur()};document.body.addEventListener("focusin",function(e){i&&(clearTimeout(i),i=null),t=e.target,n=document.body.scrollTop,o=window.scrollY,i=setTimeout(function(){document.body.addEventListener("touchend",r)},60)}),document.body.addEventListener("focusout",function(){document.body.scrollTop=n,window.scrollTo(0,o),t=!1,document.body.removeEventListener("touchend",r)})}},setCanScrollByAttribute:function(n){if(void 0===n&&(n="data-can-scroll"),!window.__setCanScrollByAttribute){window.__setCanScrollByAttribute=!0;var o=HTMLElement.prototype.setAttribute;HTMLElement.prototype.setAttribute=function(e,t){e===n&&t?x(this):o.call(this,e,t)}}},setCanScroll:x})});
//# sourceMappingURL=index.js.map
