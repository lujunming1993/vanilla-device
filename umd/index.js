!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).vanillaDevice={})}(this,function(e){"use strict";function o(){return window.innerWidth}function i(){return window.innerHeight}function t(){return 1<S?o()<=320:o()<=640}function n(){return 1<S?o()<=375:o()<=750}function r(){return 1<S?o()<=512:o()<=1024}function s(){return 1<S?o()<=640:o()<=1280}function c(){return/(?:Android)/.test(T)}function u(){return/(?:Firefox)/.test(T)}function l(){return/(?:Chrome|CriOS)/.test(T)}function a(){return/(?:iPad|PlayBook)/.test(T)||c()&&!/(?:Mobile)/.test(T)||u()&&/(?:Tablet)/.test(T)}function d(){return/(?:iPhone)/.test(T)&&!a()}function f(){return/MicroMessenger/.test(T)}function m(){return!d()&&!c()}function _(){return!1}function w(){return/iphone/gi.test(window.navigator.userAgent)&&812<=i()}function h(){return 1<S?.5:1}function v(){return 1<S?.65:1}function p(){return 0<=window.location.href.indexOf("_os_ios_")||window._os_ios}function b(){return 0<=window.location.href.indexOf("_os_android_")||window._os_android}function y(){return p()||b()||window.cordova||!1}function g(){return y()?w()?43:20:0}function x(){return f()?720<=i()?25:0:w()?25:0}var T=navigator.userAgent,S=window.devicePixelRatio||1,A="__device-style-ele__";function E(){var e="\n    :root {\n      --safe-top:"+g()+"px; --safe-bottom:"+x()+"px; --hair:"+h()+"px;--line:"+v()+"px; --iw:"+o()+"px; --ih:"+i()+"px;\n    }\n  ",t=document.getElementById(A);if(t)t.textContent=e;else{var n=document.createElement("style");n.textContent=e,n.id=A,document.head.append(n)}}window.addEventListener("resize",function(){setTimeout(E,30)}),E();function L(){if(!m()&&!window.__setCanNotScale){window.__setCanNotScale=!0;var e=document.createElement("style");e.textContent="\n    * {\n      -moz-user-select:none; -webkit-user-select:none; -ms-user-select:none; user-select:none; \n      touch-action: manipulation;\n    }\n    .can-user-select, input, textarea {\n      -moz-user-select:auto; -webkit-user-select:auto;-ms-user-select:auto; user-select:auto;\n    }\n  ";var t=document.createElement("meta");t.setAttribute("name","viewport"),t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui, viewport-fit=cover"),document.head.append(e,t),document.addEventListener("gesturestart",function(e){e.preventDefault()})}}function C(){if(!m()&&!window.__setKeyboardAutoScrollBack){window.__setKeyboardAutoScrollBack=!0;var t,n=0,o=0,i=null,r=function(e){t&&t.blur&&t.blur()};document.body.addEventListener("focusin",function(e){i&&(clearTimeout(i),i=null),t=e.target,n=document.body.scrollTop,o=window.scrollY,i=setTimeout(function(){document.body.addEventListener("touchend",r)},60)}),document.body.addEventListener("focusout",function(){document.body.scrollTop=n,window.scrollTo(0,o),t=!1,document.body.removeEventListener("touchend",r)})}}function B(n){if(void 0===n&&(n="focus-touch-scroll"),!window.__setFocusTouchScrollByAttribute){window.__setFocusTouchScrollByAttribute=!0;var o=HTMLElement.prototype.setAttribute;HTMLElement.prototype.setAttribute=function(e,t){e===n&&t?P(this):o.call(this,e,t)}}}var P=function(t){if(!window.__setBodyCanNotTouchScroll){window.__setBodyCanNotTouchScroll=!0,document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:!1});var e=document.createElement("style");return e.textContent="\n  div {\n    -webkit-overflow-scrolling: touch;\n  }\n",void document.body.appendChild(e)}t&&(t.__mobile_scroll||(t.__mobile_scroll=!0,t.__can_scroll=!0,t.addEventListener("touchstart",function(){if(t.__can_scroll=t.scrollHeight>t.clientHeight,t.__can_scroll){var e=t.scrollTop;0===e?t.scrollTop=1:e+t.offsetHeight===t.scrollHeight&&(t.scrollTop=t.scrollHeight-t.offsetHeight-1)}}),t.addEventListener("touchmove",function(e){t.__can_scroll?e.stopPropagation():e.preventDefault()})))},N=Object.freeze({__proto__:null,iw:o,ih:i,isSmall:t,isMiddle:n,isLarge:r,isExtraLarge:s,isAndroid:c,isFireFox:u,isChrome:l,isPad:a,isIos:d,isWechat:f,isPc:m,isLow:_,isIPhoneX:w,hair:h,line:v,isNativeIOS:p,isNativeAndroid:b,isNative:y,safeTop:g,safeBottom:x,setCanNotScalePage:L,setKeyboardAutoScrollBack:C,setFocusTouchScrollByAttribute:B,setFocusTouchScroll:P});e.default=N,e.hair=h,e.ih=i,e.isAndroid=c,e.isChrome=l,e.isExtraLarge=s,e.isFireFox=u,e.isIPhoneX=w,e.isIos=d,e.isLarge=r,e.isLow=_,e.isMiddle=n,e.isNative=y,e.isNativeAndroid=b,e.isNativeIOS=p,e.isPad=a,e.isPc=m,e.isSmall=t,e.isWechat=f,e.iw=o,e.line=v,e.safeBottom=x,e.safeTop=g,e.setCanNotScalePage=L,e.setFocusTouchScroll=P,e.setFocusTouchScrollByAttribute=B,e.setKeyboardAutoScrollBack=C,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
